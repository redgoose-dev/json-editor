var bn=Object.defineProperty;var Cn=(d,p,C)=>p in d?bn(d,p,{enumerable:!0,configurable:!0,writable:!0,value:C}):d[p]=C;var Ot=(d,p,C)=>(Cn(d,typeof p!="symbol"?p+"":p,C),C),Mt=(d,p,C)=>{if(!p.has(d))throw TypeError("Cannot "+C)};var f=(d,p,C)=>(Mt(d,p,"read from private field"),C?C.call(d):p.get(d)),v=(d,p,C)=>{if(p.has(d))throw TypeError("Cannot add the same private member more than once");p instanceof WeakSet?p.add(d):p.set(d,C)},q=(d,p,C,A)=>(Mt(d,p,"write to private field"),A?A.call(d,C):p.set(d,C),C);var b=(d,p,C)=>(Mt(d,p,"access private method"),C);(function(d,p){typeof exports=="object"&&typeof module<"u"?module.exports=p():typeof define=="function"&&define.amd?define(p):(d=typeof globalThis<"u"?globalThis:d||self,d.JsonEditor=p())})(this,function(){var K,x,X,at,ue,ct,le,ut,fe,S,y,lt,de,Q,Bt,F,yt,ft,he,dt,pe,Z,bt,ht,ge,I,tt,pt,me,gt,ye,mt,be;"use strict";const d=document,p=window,C=d.documentElement,A=d.createElement.bind(d),jt=A("div"),Ct=A("table"),Ce=A("tbody"),Ht=A("tr"),{isArray:et,prototype:Dt}=Array,{concat:we,filter:wt,indexOf:Pt,map:Vt,push:ve,slice:It,some:vt,splice:ke}=Dt,$e=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,Ee=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,xe=/<.+>/,Ne=/^\w+$/;function kt(t,e){const n=Le(e);return!t||!n&&!P(e)&&!k(e)?[]:!n&&Ee.test(t)?e.getElementsByClassName(t.slice(1).replace(/\\/g,"")):!n&&Ne.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t)}class nt{constructor(e,n){if(!e)return;if($t(e))return e;let i=e;if(N(e)){const s=n||d;if(i=$e.test(e)&&P(s)?s.getElementById(e.slice(1).replace(/\\/g,"")):xe.test(e)?qt(e):$t(s)?s.find(e):N(s)?a(s).find(e):kt(e,s),!i)return}else if(V(e))return this.ready(e);(i.nodeType||i===p)&&(i=[i]),this.length=i.length;for(let s=0,r=this.length;s<r;s++)this[s]=i[s]}init(e,n){return new nt(e,n)}}const o=nt.prototype,a=o.init;a.fn=a.prototype=o,o.length=0,o.splice=ke,typeof Symbol=="function"&&(o[Symbol.iterator]=Dt[Symbol.iterator]);function $t(t){return t instanceof nt}function U(t){return!!t&&t===t.window}function P(t){return!!t&&t.nodeType===9}function Le(t){return!!t&&t.nodeType===11}function k(t){return!!t&&t.nodeType===1}function Te(t){return!!t&&t.nodeType===3}function Se(t){return typeof t=="boolean"}function V(t){return typeof t=="function"}function N(t){return typeof t=="string"}function T(t){return t===void 0}function Y(t){return t===null}function Ut(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Et(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}a.isWindow=U,a.isFunction=V,a.isArray=et,a.isNumeric=Ut,a.isPlainObject=Et;function $(t,e,n){if(n){let i=t.length;for(;i--;)if(e.call(t[i],i,t[i])===!1)return t}else if(Et(t)){const i=Object.keys(t);for(let s=0,r=i.length;s<r;s++){const c=i[s];if(e.call(t[c],c,t[c])===!1)return t}}else for(let i=0,s=t.length;i<s;i++)if(e.call(t[i],i,t[i])===!1)return t;return t}a.each=$,o.each=function(t){return $(this,t)},o.empty=function(){return this.each((t,e)=>{for(;e.firstChild;)e.removeChild(e.firstChild)})};function it(...t){const e=Se(t[0])?t.shift():!1,n=t.shift(),i=t.length;if(!n)return{};if(!i)return it(e,a,n);for(let s=0;s<i;s++){const r=t[s];for(const c in r)e&&(et(r[c])||Et(r[c]))?((!n[c]||n[c].constructor!==r[c].constructor)&&(n[c]=new r[c].constructor),it(e,n[c],r[c])):n[c]=r[c]}return n}a.extend=it,o.extend=function(t){return it(o,t)};const Ae=/\S+/g;function st(t){return N(t)?t.match(Ae)||[]:[]}o.toggleClass=function(t,e){const n=st(t),i=!T(e);return this.each((s,r)=>{k(r)&&$(n,(c,l)=>{i?e?r.classList.add(l):r.classList.remove(l):r.classList.toggle(l)})})},o.addClass=function(t){return this.toggleClass(t,!0)},o.removeAttr=function(t){const e=st(t);return this.each((n,i)=>{k(i)&&$(e,(s,r)=>{i.removeAttribute(r)})})};function _e(t,e){if(t){if(N(t)){if(arguments.length<2){if(!this[0]||!k(this[0]))return;const n=this[0].getAttribute(t);return Y(n)?void 0:n}return T(e)?this:Y(e)?this.removeAttr(t):this.each((n,i)=>{k(i)&&i.setAttribute(t,e)})}for(const n in t)this.attr(n,t[n]);return this}}o.attr=_e,o.removeClass=function(t){return arguments.length?this.toggleClass(t,!1):this.attr("class","")},o.hasClass=function(t){return!!t&&vt.call(this,e=>k(e)&&e.classList.contains(t))},o.get=function(t){return T(t)?It.call(this):(t=Number(t),this[t<0?t+this.length:t])},o.eq=function(t){return a(this.get(t))},o.first=function(){return this.eq(0)},o.last=function(){return this.eq(-1)};function Re(t){return T(t)?this.get().map(e=>k(e)||Te(e)?e.textContent:"").join(""):this.each((e,n)=>{k(n)&&(n.textContent=t)})}o.text=Re;function M(t,e,n){if(!k(t))return;const i=p.getComputedStyle(t,null);return n?i.getPropertyValue(e)||void 0:i[e]||t.style[e]}function _(t,e){return parseInt(M(t,e),10)||0}function Ft(t,e){return _(t,`border${e?"Left":"Top"}Width`)+_(t,`padding${e?"Left":"Top"}`)+_(t,`padding${e?"Right":"Bottom"}`)+_(t,`border${e?"Right":"Bottom"}Width`)}const xt={};function Oe(t){if(xt[t])return xt[t];const e=A(t);d.body.insertBefore(e,null);const n=M(e,"display");return d.body.removeChild(e),xt[t]=n!=="none"?n:"block"}function Zt(t){return M(t,"display")==="none"}function Wt(t,e){const n=t&&(t.matches||t.webkitMatchesSelector||t.msMatchesSelector);return!!n&&!!e&&n.call(t,e)}function rt(t){return N(t)?(e,n)=>Wt(n,t):V(t)?t:$t(t)?(e,n)=>t.is(n):t?(e,n)=>n===t:()=>!1}o.filter=function(t){const e=rt(t);return a(wt.call(this,(n,i)=>e.call(n,i,n)))};function j(t,e){return e?t.filter(e):t}o.detach=function(t){return j(this,t).each((e,n)=>{n.parentNode&&n.parentNode.removeChild(n)}),this};const Me=/^\s*<(\w+)[^>]*>/,Be=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,Jt={"*":jt,tr:Ce,td:Ht,th:Ht,thead:Ct,tbody:Ct,tfoot:Ct};function qt(t){if(!N(t))return[];if(Be.test(t))return[A(RegExp.$1)];const e=Me.test(t)&&RegExp.$1,n=Jt[e]||Jt["*"];return n.innerHTML=t,a(n.childNodes).detach().get()}a.parseHTML=qt,o.has=function(t){const e=N(t)?(n,i)=>kt(t,i).length:(n,i)=>i.contains(t);return this.filter(e)},o.not=function(t){const e=rt(t);return this.filter((n,i)=>(!N(t)||k(i))&&!e.call(i,n,i))};function B(t,e,n,i){const s=[],r=V(e),c=i&&rt(i);for(let l=0,h=t.length;l<h;l++)if(r){const u=e(t[l]);u.length&&ve.apply(s,u)}else{let u=t[l][e];for(;u!=null&&!(i&&c(-1,u));)s.push(u),u=n?u[e]:null}return s}function Yt(t){return t.multiple&&t.options?B(wt.call(t.options,e=>e.selected&&!e.disabled&&!e.parentNode.disabled),"value"):t.value||""}function je(t){return arguments.length?this.each((e,n)=>{const i=n.multiple&&n.options;if(i||re.test(n.type)){const s=et(t)?Vt.call(t,String):Y(t)?[]:[String(t)];i?$(n.options,(r,c)=>{c.selected=s.indexOf(c.value)>=0},!0):n.checked=s.indexOf(n.value)>=0}else n.value=T(t)||Y(t)?"":t}):this[0]&&Yt(this[0])}o.val=je,o.is=function(t){const e=rt(t);return vt.call(this,(n,i)=>e.call(n,i,n))},a.guid=1;function R(t){return t.length>1?wt.call(t,(e,n,i)=>Pt.call(i,e)===n):t}a.unique=R,o.add=function(t,e){return a(R(this.get().concat(a(t,e).get())))},o.children=function(t){return j(a(R(B(this,e=>e.children))),t)},o.parent=function(t){return j(a(R(B(this,"parentNode"))),t)},o.index=function(t){const e=t?a(t)[0]:this[0],n=t?this:a(e).parent().children();return Pt.call(n,e)},o.closest=function(t){const e=this.filter(t);if(e.length)return e;const n=this.parent();return n.length?n.closest(t):e},o.siblings=function(t){return j(a(R(B(this,e=>a(e).parent().children().not(e)))),t)},o.find=function(t){return a(R(B(this,e=>kt(t,e))))};const He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,De=/^$|^module$|\/(java|ecma)script/i,Pe=["type","src","nonce","noModule"];function Ve(t,e){const n=a(t);n.filter("script").add(n.find("script")).each((i,s)=>{if(De.test(s.type)&&C.contains(s)){const r=A("script");r.text=s.textContent.replace(He,""),$(Pe,(c,l)=>{s[l]&&(r[l]=s[l])}),e.head.insertBefore(r,null),e.head.removeChild(r)}})}function Ie(t,e,n,i,s){i?t.insertBefore(e,n?t.firstChild:null):t.nodeName==="HTML"?t.parentNode.replaceChild(e,t):t.parentNode.insertBefore(e,n?t:t.nextSibling),s&&Ve(e,t.ownerDocument)}function H(t,e,n,i,s,r,c,l){return $(t,(h,u)=>{$(a(u),(g,L)=>{$(a(e),(O,w)=>{const D=n?L:w,m=n?w:L,W=n?g:O;Ie(D,W?m.cloneNode(!0):m,i,s,!W)},l)},c)},r),e}o.after=function(){return H(arguments,this,!1,!1,!1,!0,!0)},o.append=function(){return H(arguments,this,!1,!1,!0)};function Ue(t){if(!arguments.length)return this[0]&&this[0].innerHTML;if(T(t))return this;const e=/<script[\s>]/.test(t);return this.each((n,i)=>{k(i)&&(e?a(i).empty().append(t):i.innerHTML=t)})}o.html=Ue,o.appendTo=function(t){return H(arguments,this,!0,!1,!0)},o.wrapInner=function(t){return this.each((e,n)=>{const i=a(n),s=i.contents();s.length?s.wrapAll(t):i.append(t)})},o.before=function(){return H(arguments,this,!1,!0)},o.wrapAll=function(t){let e=a(t),n=e[0];for(;n.children.length;)n=n.firstElementChild;return this.first().before(e),this.appendTo(n)},o.wrap=function(t){return this.each((e,n)=>{const i=a(t)[0];a(n).wrapAll(e?i.cloneNode(!0):i)})},o.insertAfter=function(t){return H(arguments,this,!0,!1,!1,!1,!1,!0)},o.insertBefore=function(t){return H(arguments,this,!0,!0)},o.prepend=function(){return H(arguments,this,!1,!0,!0,!0,!0)},o.prependTo=function(t){return H(arguments,this,!0,!0,!0,!1,!1,!0)},o.contents=function(){return a(R(B(this,t=>t.tagName==="IFRAME"?[t.contentDocument]:t.tagName==="TEMPLATE"?t.content.childNodes:t.childNodes)))},o.next=function(t,e,n){return j(a(R(B(this,"nextElementSibling",e,n))),t)},o.nextAll=function(t){return this.next(t,!0)},o.nextUntil=function(t,e){return this.next(e,!0,t)},o.parents=function(t,e){return j(a(R(B(this,"parentElement",!0,e))),t)},o.parentsUntil=function(t,e){return this.parents(e,t)},o.prev=function(t,e,n){return j(a(R(B(this,"previousElementSibling",e,n))),t)},o.prevAll=function(t){return this.prev(t,!0)},o.prevUntil=function(t,e){return this.prev(e,!0,t)},o.map=function(t){return a(we.apply([],Vt.call(this,(e,n)=>t.call(e,n,e))))},o.clone=function(){return this.map((t,e)=>e.cloneNode(!0))},o.offsetParent=function(){return this.map((t,e)=>{let n=e.offsetParent;for(;n&&M(n,"position")==="static";)n=n.offsetParent;return n||C})},o.slice=function(t,e){return a(It.call(this,t,e))};const Fe=/-([a-z])/g;function Nt(t){return t.replace(Fe,(e,n)=>n.toUpperCase())}o.ready=function(t){const e=()=>setTimeout(t,0,a);return d.readyState!=="loading"?e():d.addEventListener("DOMContentLoaded",e),this},o.unwrap=function(){return this.parent().each((t,e)=>{if(e.tagName==="BODY")return;const n=a(e);n.replaceWith(n.children())}),this},o.offset=function(){const t=this[0];if(!t)return;const e=t.getBoundingClientRect();return{top:e.top+p.pageYOffset,left:e.left+p.pageXOffset}},o.position=function(){const t=this[0];if(!t)return;const e=M(t,"position")==="fixed",n=e?t.getBoundingClientRect():this.offset();if(!e){const i=t.ownerDocument;let s=t.offsetParent||i.documentElement;for(;(s===i.body||s===i.documentElement)&&M(s,"position")==="static";)s=s.parentNode;if(s!==t&&k(s)){const r=a(s).offset();n.top-=r.top+_(s,"borderTopWidth"),n.left-=r.left+_(s,"borderLeftWidth")}}return{top:n.top-_(t,"marginTop"),left:n.left-_(t,"marginLeft")}};const zt={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};o.prop=function(t,e){if(t){if(N(t))return t=zt[t]||t,arguments.length<2?this[0]&&this[0][t]:this.each((n,i)=>{i[t]=e});for(const n in t)this.prop(n,t[n]);return this}},o.removeProp=function(t){return this.each((e,n)=>{delete n[zt[t]||t]})};const Ze=/^--/;function Lt(t){return Ze.test(t)}const Tt={},{style:We}=jt,Je=["webkit","moz","ms"];function qe(t,e=Lt(t)){if(e)return t;if(!Tt[t]){const n=Nt(t),i=`${n[0].toUpperCase()}${n.slice(1)}`,s=`${n} ${Je.join(`${i} `)}${i}`.split(" ");$(s,(r,c)=>{if(c in We)return Tt[t]=c,!1})}return Tt[t]}const Ye={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Gt(t,e,n=Lt(t)){return!n&&!Ye[t]&&Ut(e)?`${e}px`:e}function ze(t,e){if(N(t)){const n=Lt(t);return t=qe(t,n),arguments.length<2?this[0]&&M(this[0],t,n):t?(e=Gt(t,e,n),this.each((i,s)=>{k(s)&&(n?s.style.setProperty(t,e):s.style[t]=e)})):this}for(const n in t)this.css(n,t[n]);return this}o.css=ze;function Kt(t,e){try{return t(e)}catch{return e}}const Ge=/^\s+|\s+$/;function Xt(t,e){const n=t.dataset[e]||t.dataset[Nt(e)];return Ge.test(n)?n:Kt(JSON.parse,n)}function Ke(t,e,n){n=Kt(JSON.stringify,n),t.dataset[Nt(e)]=n}function Xe(t,e){if(!t){if(!this[0])return;const n={};for(const i in this[0].dataset)n[i]=Xt(this[0],i);return n}if(N(t))return arguments.length<2?this[0]&&Xt(this[0],t):T(e)?this:this.each((n,i)=>{Ke(i,t,e)});for(const n in t)this.data(n,t[n]);return this}o.data=Xe;function Qt(t,e){const n=t.documentElement;return Math.max(t.body[`scroll${e}`],n[`scroll${e}`],t.body[`offset${e}`],n[`offset${e}`],n[`client${e}`])}$([!0,!1],(t,e)=>{$(["Width","Height"],(n,i)=>{const s=`${e?"outer":"inner"}${i}`;o[s]=function(r){if(this[0])return U(this[0])?e?this[0][`inner${i}`]:this[0].document.documentElement[`client${i}`]:P(this[0])?Qt(this[0],i):this[0][`${e?"offset":"client"}${i}`]+(r&&e?_(this[0],`margin${n?"Top":"Left"}`)+_(this[0],`margin${n?"Bottom":"Right"}`):0)}})}),$(["Width","Height"],(t,e)=>{const n=e.toLowerCase();o[n]=function(i){if(!this[0])return T(i)?void 0:this;if(!arguments.length)return U(this[0])?this[0].document.documentElement[`client${e}`]:P(this[0])?Qt(this[0],e):this[0].getBoundingClientRect()[n]-Ft(this[0],!t);const s=parseInt(i,10);return this.each((r,c)=>{if(!k(c))return;const l=M(c,"boxSizing");c.style[n]=Gt(n,s+(l==="border-box"?Ft(c,!t):0))})}});const te="___cd";o.toggle=function(t){return this.each((e,n)=>{if(!k(n))return;const i=Zt(n);(T(t)?i:t)?(n.style.display=n[te]||"",Zt(n)&&(n.style.display=Oe(n.tagName))):i||(n[te]=M(n,"display"),n.style.display="none")})},o.hide=function(){return this.toggle(!1)},o.show=function(){return this.toggle(!0)};const ee="___ce",St=".",At={focus:"focusin",blur:"focusout"},ne={mouseenter:"mouseover",mouseleave:"mouseout"},Qe=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function _t(t){return ne[t]||At[t]||t}function Rt(t){const e=t.split(St);return[e[0],e.slice(1).sort()]}o.trigger=function(t,e){if(N(t)){const[i,s]=Rt(t),r=_t(i);if(!r)return this;const c=Qe.test(r)?"MouseEvents":"HTMLEvents";t=d.createEvent(c),t.initEvent(r,!0,!0),t.namespace=s.join(St),t.___ot=i}t.___td=e;const n=t.___ot in At;return this.each((i,s)=>{n&&V(s[t.___ot])&&(s[`___i${t.type}`]=!0,s[t.___ot](),s[`___i${t.type}`]=!1),s.dispatchEvent(t)})};function ie(t){return t[ee]=t[ee]||{}}function tn(t,e,n,i,s){const r=ie(t);r[e]=r[e]||[],r[e].push([n,i,s]),t.addEventListener(e,s)}function se(t,e){return!e||!vt.call(e,n=>t.indexOf(n)<0)}function ot(t,e,n,i,s){const r=ie(t);if(e)r[e]&&(r[e]=r[e].filter(([c,l,h])=>{if(s&&h.guid!==s.guid||!se(c,n)||i&&i!==l)return!0;t.removeEventListener(e,h)}));else for(e in r)ot(t,e,n,i,s)}o.off=function(t,e,n){if(T(t))this.each((i,s)=>{!k(s)&&!P(s)&&!U(s)||ot(s)});else if(N(t))V(e)&&(n=e,e=""),$(st(t),(i,s)=>{const[r,c]=Rt(s),l=_t(r);this.each((h,u)=>{!k(u)&&!P(u)&&!U(u)||ot(u,l,c,e,n)})});else for(const i in t)this.off(i,t[i]);return this},o.remove=function(t){return j(this,t).detach().off(),this},o.replaceWith=function(t){return this.before(t).remove()},o.replaceAll=function(t){return a(t).replaceWith(this),this};function en(t,e,n,i,s){if(!N(t)){for(const r in t)this.on(r,e,n,t[r],s);return this}return N(e)||(T(e)||Y(e)?e="":T(n)?(n=e,e=""):(i=n,n=e,e="")),V(i)||(i=n,n=void 0),i?($(st(t),(r,c)=>{const[l,h]=Rt(c),u=_t(l),g=l in ne,L=l in At;u&&this.each((O,w)=>{if(!k(w)&&!P(w)&&!U(w))return;const D=function(m){if(m.target[`___i${m.type}`])return m.stopImmediatePropagation();if(m.namespace&&!se(h,m.namespace.split(St))||!e&&(L&&(m.target!==w||m.___ot===u)||g&&m.relatedTarget&&w.contains(m.relatedTarget)))return;let W=w;if(e){let J=m.target;for(;!Wt(J,e);)if(J===w||(J=J.parentNode,!J))return;W=J}Object.defineProperty(m,"currentTarget",{configurable:!0,get(){return W}}),Object.defineProperty(m,"delegateTarget",{configurable:!0,get(){return w}}),Object.defineProperty(m,"data",{configurable:!0,get(){return n}});const yn=i.call(W,m,m.___td);s&&ot(w,u,h,e,D),yn===!1&&(m.preventDefault(),m.stopPropagation())};D.guid=i.guid=i.guid||a.guid++,tn(w,u,h,e,D)})}),this):this}o.on=en;function nn(t,e,n,i){return this.on(t,e,n,i,!0)}o.one=nn;const sn=/\r?\n/g;function rn(t,e){return`&${encodeURIComponent(t)}=${encodeURIComponent(e.replace(sn,`\r
`))}`}const on=/file|reset|submit|button|image/i,re=/radio|checkbox/i;o.serialize=function(){let t="";return this.each((e,n)=>{$(n.elements||[n],(i,s)=>{if(s.disabled||!s.name||s.tagName==="FIELDSET"||on.test(s.type)||re.test(s.type)&&!s.checked)return;const r=Yt(s);if(!T(r)){const c=et(r)?r:[r];$(c,(l,h)=>{t+=rn(s.name,h)})}})}),t.slice(1)};const an='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/></svg>',cn='<svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g transform="rotate(-90, 10, 10)"><path d="M7 9L10 12L13 9" fill="currentColor"/><path d="M7 9L10 12L13 9H7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></g></svg>',un='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 8C12.5523 8 13 7.55228 13 7C13 6.44772 12.5523 6 12 6C11.4477 6 11 6.44772 11 7C11 7.55228 11.4477 8 12 8Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 18C12.5523 18 13 17.5523 13 17C13 16.4477 12.5523 16 12 16C11.4477 16 11 16.4477 11 17C11 17.5523 11.4477 18 12 18Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/></svg>',oe={object:'<svg viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="t-object"><g transform="translate(0 1)"><path d="M2.296 5.166C2.296 7.238 3.78 8.162 5.166 8.162C6.538 8.162 8.022 7.238 8.022 5.166C8.022 3.094 6.538 2.156 5.166 2.156C3.78 2.156 2.296 3.094 2.296 5.166ZM0 5.18C0 2.03 2.366 0 5.166 0C7.952 0 10.318 2.03 10.318 5.18C10.318 8.316 7.952 10.346 5.166 10.346C2.366 10.346 0 8.316 0 5.18Z" fill="currentColor"/></g></svg>',array:'<svg viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg" class="t-array"><path d="M7.728 9.926L6.902 7.658H2.87L2.044 9.926H0L3.808 0H6.048L9.828 9.926H7.728ZM4.886 2.142L3.514 5.894H6.258L4.886 2.142Z" fill="currentColor"/></svg>',string:'<svg viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="t-string"><g transform="translate(0 1.5)"><path d="M7.39203 2.576L5.65603 3.108C5.55803 2.562 5.11003 1.708 3.85003 1.708C2.91203 1.708 2.29603 2.31 2.29603 2.968C2.29603 3.514 2.64603 3.948 3.37403 4.088L4.76003 4.354C6.56603 4.704 7.53203 5.88 7.53203 7.28C7.53203 8.806 6.25803 10.346 3.94803 10.346C1.31603 10.346 0.154031 8.652 3.05176e-05 7.238L1.79203 6.762C1.87603 7.742 2.56203 8.624 3.96203 8.624C4.99803 8.624 5.57203 8.106 5.57203 7.406C5.57203 6.832 5.13803 6.384 4.36803 6.23L2.98203 5.95C1.40003 5.628 0.378031 4.606 0.378031 3.108C0.378031 1.344 1.96003 0 3.83603 0C6.24403 0 7.16803 1.456 7.39203 2.576Z" fill="currentColor"/></g></svg>',number:'<svg viewBox="0 0 9 11" fill="none" xmlns="http://www.w3.org/2000/svg" class="t-number"><g transform="translate(0 1)"><path d="M8.47003 9.926H6.44003L1.93203 2.884V9.926H3.05176e-05V0H2.40803L6.53803 6.566V0H8.47003V9.926Z" fill="currentColor"/></g></svg>',boolean:'<svg viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg" class="t-boolean"><g transform="translate(0 .75)"><path d="M3.05176e-05 0H3.57003C5.50203 0 6.59403 1.134 6.59403 2.674C6.59403 3.696 5.97803 4.522 5.15203 4.802C6.11803 5.04 6.90203 5.922 6.90203 7.154C6.90203 8.764 5.69803 9.926 3.83603 9.926H3.05176e-05V0ZM1.90403 4.102H3.27603C4.15803 4.102 4.69003 3.612 4.69003 2.856C4.69003 2.1 4.20003 1.624 3.26203 1.624H1.90403V4.102ZM1.90403 8.316H3.47203C4.41003 8.316 4.97003 7.826 4.97003 7.028C4.97003 6.244 4.46603 5.698 3.50003 5.698H1.90403V8.316Z" fill="currentColor"/></g></svg>',null:'<svg viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="t-null"><g transform="translate(0 1.5)"><path d="M3.808 10.15C1.694 10.15 0 8.848 0 6.412V0H1.932V6.272C1.932 7.574 2.66 8.26 3.808 8.26C4.984 8.26 5.698 7.574 5.698 6.272V0H7.63V6.412C7.63 8.848 5.936 10.15 3.808 10.15Z" fill="currentColor"/></g></svg>'},ln=[{key:"change-type",label:"Change Type",children:[{key:"object",label:"Object"},{key:"array",label:"Array"},{key:"string",label:"String"},{key:"number",label:"Number"},{key:"boolean",label:"Boolean"},{key:"null",label:"Null"}]},{key:"insert",label:"Insert",children:[{key:"object",label:"Object"},{key:"array",label:"Array"},{key:"string",label:"String"},{key:"number",label:"Number"},{key:"boolean",label:"Boolean"},{key:"null",label:"Null"}]},{key:"duplicate",label:"Duplicate"},{key:"remove",label:"Remove"}];class fn{constructor(e,n,i){v(this,at);v(this,ct);v(this,ut);v(this,K,void 0);v(this,x,{node:void 0,type:void 0,dialog:void 0});v(this,X,void 0);q(this,K,e),f(this,x).node=n,q(this,X,String(f(this,x).node.data("type"))),f(this,x).type=f(this,x).node.find("& > .node__body > .type"),f(this,x).type.addClass("open"),f(this,x).dialog=b(this,at,ue).call(this,ln,f(this,X),i),f(this,x).dialog.on("click",s=>s.stopPropagation()),f(this,x).dialog.find("button").on("click",s=>b(this,ct,le).call(this,s)),f(this,x).type.append(f(this,x).dialog),a(window).on("click.json-editor-context",s=>this.close(s)),a(window).on("keyup.json-editor-context",s=>b(this,ut,fe).call(this,s))}close(){f(this,x).type.removeClass("open"),f(this,x).dialog.remove(),a(window).off("click.json-editor-context"),a(window).off("keyup.json-editor-context"),delete f(this,K).context}}K=new WeakMap,x=new WeakMap,X=new WeakMap,at=new WeakSet,ue=function(e,n,i=!1){function s(l,h){let u="";const{key:g,label:L,children:O}=l;if(i)switch(g){case"string":case"number":case"boolean":case"null":if(h==="change-type")return"";break;case"duplicate":case"remove":return""}let w="",D="",m="";switch(g){case"change-type":w=' class="dropdown"',m=" disabled";break;case"insert":if(["string","number","boolean","null"].indexOf(n)>-1)return"";w=' class="dropdown"',m=" disabled";break;case"duplicate":w=' class="duplicate"',m=' data-mode="duplicate"';break;case"remove":w=' class="remove"',m=' data-mode="remove"';break;case"object":case"array":case"string":case"number":case"boolean":case"null":w=' class="type"',D=`<i class="type-icon type-icon--${g}">${oe[g]}</i>`,m=` data-mode="${h}" data-type="${g}"`,h==="change-type"&&g===n&&(m=" disabled");break}return u+=`<li${w}>`,u+=`<button type="button"${m}>`,u+=D,u+=`<em class="label">${L}</em>`,(g==="change-type"||g==="insert")&&(u+=`<span class="arrow">${an}</span>`),u+="</button>",(O==null?void 0:O.length)>0&&(u+='<div class="children">',u+=r(O,g),u+="</div>"),u+="</li>",u}function r(l,h=void 0){let u="<ol>";for(let g in l)u+=s(l[g],h);return u+="</ol>",u}let c=`<nav class="context${i?" is-root":""}">`;return c+=r(e),c+="</nav>",a(c)},ct=new WeakSet,le=function(e){const n=a(e.currentTarget),i=n.data("mode");let s=String(n.data("type"));s=s==="undefined"?"":s,this.close(),this.selectItem&&typeof this.selectItem=="function"&&this.selectItem(f(this,x).node,i,s)},ut=new WeakSet,fe=function(e){e.code==="Escape"&&this.close()};function ae(t){return t==null?"null":Array.isArray(t)?"array":typeof t=="string"?"string":typeof t=="number"?"number":typeof t=="boolean"?"boolean":"object"}function dn(t){try{return typeof t=="string"?JSON.parse(t):Array.isArray(t)?Object.assign([],t):a.isPlainObject(t)?Object.assign({},t):{}}catch(e){console.error("error",e.message)}}function hn(t){return Array.isArray(t)?t.length:a.isPlainObject(t)?Object.keys(t).length:0}function ce(t){if(t.ctrlKey||t.metaKey)switch(t.keyCode){case 66:case 98:case 73:case 105:case 85:case 117:return!0}return!1}const pn={live:!1,theme:"system"},gn={target:void 0,data:void 0,between:"after",open:!0,callback:void 0},E={OBJECT:"object",ARRAY:"array",STRING:"string",NUMBER:"number",BOOLEAN:"boolean",NULL:"null"},z={START:"pointerdown",MOVE:"pointermove",END:"pointerup.json-editor pointercancel.json-editor"},G={START:"drag-over-start",END:"drag-over-end",ALL:"drag-over-start drag-over-end"};class mn{constructor(e,n={}){v(this,lt);v(this,Q);v(this,F);v(this,ft);v(this,dt);v(this,Z);v(this,ht);v(this,I);v(this,pt);v(this,gt);v(this,mt);Ot(this,"options");v(this,S,{wrap:null,tree:null});Ot(this,"context");v(this,y,void 0);f(this,S).wrap=a(e),this.options=new Proxy(Object.assign({},pn,n),{get:(i,s)=>i[s],set:b(this,lt,de).bind(this)}),b(this,Q,Bt).call(this,this.options.theme)}replace(e){this.clear(),e=dn(e);const n=b(this,ft,he).call(this,e);this.import(n,e)}import(e,n){a.each(n,(i,s)=>{const r=ae(s),c={key:i,value:s,type:r};this.addNode({target:e,data:c,open:!1,callback:(l,h)=>this.import(l,h)})})}addNode(e){e={...gn,...e};const{target:n,data:i,between:s,open:r,callback:c}=e,l=a(n),{key:h,value:u,type:g}=i,L=b(this,F,yt).call(this,g,!1);b(this,Z,bt).call(this,L,{...i,open:r}),b(this,I,tt).call(this,L);const O=l.find("& > .node__children > ul");s==="before"?O.prepend(L):O.append(L),(g==="array"||g==="object")&&c&&typeof c=="function"&&c(L.get(0),u)}changeType(e,n){const i=a(e),s={key:i.find("& > .node__body .key").text(),value:b(this,ht,ge).call(this,i),type:n,open:i.hasClass("open")},r=i.find("& > .node__children > .tree").html();i.empty(),i.html(b(this,F,yt).call(this,n,!1).html()),r&&i.find("& > .node__children > .tree").html(r),b(this,Z,bt).call(this,i,s),b(this,I,tt).call(this,i),i.attr("data-type",n)}duplicate(e){e=a(e);const n=a(e.get(0).outerHTML);b(this,I,tt).call(this,n),e.after(n)}removeNode(e){e.remove()}fold(e,n){const i=a(e);n===void 0?i.toggleClass("open"):n===!0?i.addClass("open"):i.removeClass("open")}clear(){f(this,S).tree&&f(this,S).wrap.empty()}update(){}destroy(){}}S=new WeakMap,y=new WeakMap,lt=new WeakSet,de=function(e,n,i){switch(e[n]=i,n){case"theme":b(this,Q,Bt).call(this,i);break}return!0},Q=new WeakSet,Bt=function(e){e=["system","light","dark"].indexOf(e)>-1?e:"system",f(this,S).wrap.attr("data-theme",e)},F=new WeakSet,yt=function(e,n=!1){let i=`<li data-type="${e}" class="node${n?" root":""}">`;return i+='<div class="node__body">',n||(i+=`<div class="sort">${un}</div>`),i+='<div class="type"><button type="button"></button></div>',(e===E.OBJECT||e===E.ARRAY)&&(i+=`<button type="button" class="fold">${cn}</button>`),n||(i+='<div class="key"></div>'),i+='<em class="count"></em>',n||(i+='<div class="value"></div>'),i+="</div>",i+='<div class="node__children"><ul class="tree"/></div>',i+="</li>",a(i)},ft=new WeakSet,he=function(e){const n=ae(e),i=b(this,F,yt).call(this,n,!0);return b(this,Z,bt).call(this,i,{key:void 0,value:e,type:n,open:!0}),b(this,I,tt).call(this,i),f(this,S).tree=a("<ul/>"),f(this,S).tree.append(i),f(this,S).wrap.append(f(this,S).tree),i},dt=new WeakSet,pe=function(e,n,i){switch(n){case"change-type":this.changeType(e,i);break;case"insert":this.fold(e,!0),this.addNode({target:e,data:{key:"",value:"",type:i}});break;case"duplicate":this.duplicate(e);break;case"remove":this.removeNode(e);break}},Z=new WeakSet,bt=function(e,n){const{key:i,value:s,type:r,open:c}=n,l=e.hasClass("root"),h=e.children(".node__body");if(h.find(".type > button").html(`<i class="type-icon type-icon--${r}">${oe[r]}</i>`),(r===E.OBJECT||r===E.ARRAY)&&this.fold(e,c),!l){h.find(".key").html(`<div class="label-field" contenteditable="true" data-placeholder="empty">${i}</div>`);const u=h.find(".value");let g;switch(r){case E.STRING:u.html(`<div contenteditable="true" data-placeholder="empty" class="label-field type-string">${String(s)}</div>`);break;case E.NUMBER:g=Number(s),isNaN(g)&&(g=0),u.html(`<input type="number" value="${g}" placeholder="0" class="label-field type-number"/>`);break;case E.BOOLEAN:g=s==="false"?!1:!!s,u.html(`<button type="button" data-value="${g}" class="label-switch type-boolean"><span><i>${g.toString().toUpperCase()}</i></span></button>`);break;case E.NULL:u.html('<em class="label-null type-null">NULL</em>');break}}if(r===E.OBJECT||r===E.ARRAY){const u=hn(s);isNaN(u)||h.find(".count").text(u)}},ht=new WeakSet,ge=function(e){const n=String(e.data("type")),i=e.find("& > .node__body > .value");switch(n){case E.OBJECT:case E.ARRAY:return"";case E.STRING:return i.children(".type-string").text()||"";case E.NUMBER:return Number(i.children(".type-number").val());case E.BOOLEAN:return i.children(".type-boolean").data("value");case E.NULL:return null}},I=new WeakSet,tt=function(e){const n=e.hasClass("root"),i=e.find(".sort");i.length&&i.on(z.START,b(this,pt,me).bind(this)),e.find(".type > button").on("click",async l=>{const h=a(l.currentTarget);l.stopPropagation(),h.parent().hasClass("open")?this.context&&this.context.close():(this.context&&this.context.close(),this.context=new fn(this,h.closest(".node"),n),this.context.selectItem=(u,g,L)=>b(this,dt,pe).call(this,u,g,L))}),e.find(".fold").on("click",l=>{const u=a(l.currentTarget).closest(".node");this.fold(u)});const s=e.find(".key > .label-field");s.length&&s.on("keydown",l=>{if(l.keyCode===13)return l.preventDefault();ce(l)&&l.preventDefault()});const r=e.find(".value > .type-string");r.length&&r.on("keydown",l=>{ce(l)&&l.preventDefault()});const c=e.find(".value > .type-boolean");c.length&&c.on("click",l=>{const h=a(l.currentTarget),u=!h.data("value");h.data("value",u).find("i").text(u.toString().toUpperCase())})},pt=new WeakSet,me=function(e){if(q(this,y,{}),f(this,y).$node=a(e.currentTarget).closest(".node"),f(this,y).$area=f(this,y).$node.parent(),f(this,y).$nodes=f(this,y).$area.children(".node"),f(this,y).$nodes.length<2){q(this,y,void 0);return}f(this,y).$nodes.on(z.MOVE,b(this,gt,ye).bind(this)),a(window).on(z.END,b(this,mt,be).bind(this))},gt=new WeakSet,ye=function(e){console.log(this.options);const n=a(e.currentTarget),i=n.children(".node__body");if(!(i.length>0))return;const{y:s,height:r}=i.get(0).getBoundingClientRect(),c=r*.5<e.y-s;if(f(this,y).activeNode||(f(this,S).wrap.addClass("dragging"),f(this,y).$area.addClass("drag-area"),f(this,y).$node.addClass("drag-select")),f(this,y).activeNode!==n.get(0))f(this,y).activeNode&&a(f(this,y).activeNode).removeClass(G.ALL),f(this,y).activeNode=n.get(0);else if(f(this,y).half===c)return;f(this,y).half=c,n.removeClass(G.ALL).addClass(c?G.END:G.START)},mt=new WeakSet,be=function(e){f(this,S).wrap.removeClass("dragging"),f(this,y).$area.removeClass("drag-area"),f(this,y).$node.removeClass("drag-select"),f(this,y).$nodes.removeClass(G.ALL),f(this,y).$nodes.off(z.MOVE),a(window).off(z.END),q(this,y,void 0)};const wn="";return mn});
